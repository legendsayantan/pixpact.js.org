{"version":3,"sources":["logo.svg","PixPact.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","paperSizes","A1","width","height","A3","A4","A5","Letter","Legal","Tabloid","getImageDataUrl","imgSrc","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","imageSmoothingEnabled","fillStyle","fillRect","globalCompositeOperation","drawImage","dataURL","toDataURL","onerror","src","PixPact","images","setImages","useState","globalScale","setGlobalScale","scaleOption","setScaleOption","columnsPerPage","setColumnsPerPage","pageFormat","setPageFormat","orientation","setOrientation","customPageWidth","setCustomPageWidth","customPageHeight","setCustomPageHeight","imageMargin","setImageMargin","popupImageIndex","setPopupImageIndex","calcPages","setCalcPages","showCalcPopup","setShowCalcPopup","activeCalcPage","setActiveCalcPage","pdfLoading","setPdfLoading","fileInputRef","useRef","closePopup","removeImage","index","prev","filter","idx","calculateLayout","pageWidth","pageHeight","parseFloat","dims","margin","scaledImages","map","override","overrideScale","isNaN","newWidth","scale","tooBig","find","alert","sort","a","b","skyline","x","y","findPositionForImage","bestY","Infinity","bestX","bestNodeIndex","i","length","node","nodeIndex","updateSkyline","pos","newNode","newSkyline","push","rightEdge","newRightEdge","merged","last","Math","max","pages","remaining","pagePlacements","newRemaining","previewPageStyle","scaleFactor","previewWidth","position","backgroundColor","React","className","href","target","rel","htmlFor","id","type","accept","multiple","onChange","e","Array","from","files","forEach","file","URL","createObjectURL","ref","value","placeholder","checked","Fragment","step","min","parseInt","onClick","handleCalculate","console","log","async","pdf","jsPDF","unit","format","addPage","placement","dataUrl","addImage","save","key","openPopup","alt","stopPropagation","handleOverrideChange","page","previewHeight","style","item","left","top","border","boxSizing","display","background","color","padding","fontSize","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e2a1d607.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { useState, useRef } from 'react';\nimport './PixPact.css';\nimport { jsPDF } from 'jspdf';\n\n// All dimensions in mm for paper sizes\nconst paperSizes = {\n    A1: { width: 594, height: 841 },\n    A3: { width: 297, height: 420 },\n    A4: { width: 210, height: 297 },\n    A5: { width: 148, height: 210 },\n    Letter: { width: 215.9, height: 279.4 },\n    Legal: { width: 215.9, height: 355.6 },\n    Tabloid: { width: 279.4, height: 431.8 }\n};\n\nconst round2 = (n) => Math.round(n * 100) / 100;\n\n// Convert an image source to a DataURL using a canvas\nconst getImageDataUrl = (imgSrc) => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.crossOrigin = \"Anonymous\";\n        img.onload = function() {\n            const canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            const ctx = canvas.getContext('2d');\n            // Disable image smoothing to avoid unwanted artifacts.\n            ctx.imageSmoothingEnabled = false;\n            // Fill with white\n            ctx.fillStyle = '#fff';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Draw the image (using source-over).\n            ctx.globalCompositeOperation = 'source-over';\n            ctx.drawImage(img, 0, 0);\n            // Export as JPEG to avoid alpha issues.\n            const dataURL = canvas.toDataURL('image/jpeg', 1.0);\n            resolve(dataURL);\n        };\n        img.onerror = reject;\n        img.src = imgSrc;\n    });\n};\n\nconst PixPact = () => {\n    const [images, setImages] = useState([]);\n    const [globalScale, setGlobalScale] = useState(50);\n    const [scaleOption, setScaleOption] = useState(\"columns\");\n    const [columnsPerPage, setColumnsPerPage] = useState(2);\n    const [pageFormat, setPageFormat] = useState(\"A4\");\n    const [orientation, setOrientation] = useState(\"portrait\");\n    const [customPageWidth, setCustomPageWidth] = useState('');\n    const [customPageHeight, setCustomPageHeight] = useState('');\n    const [imageMargin, setImageMargin] = useState(0);\n    const [popupImageIndex, setPopupImageIndex] = useState(null);\n    const [calcPages, setCalcPages] = useState(null);\n    const [showCalcPopup, setShowCalcPopup] = useState(false);\n    const [activeCalcPage, setActiveCalcPage] = useState(0);\n    const [pdfLoading, setPdfLoading] = useState(false);\n    const fileInputRef = useRef(null);\n\n    // Handle image selection\n    const handleFiles = (e) => {\n        const files = Array.from(e.target.files);\n        files.forEach((file) => {\n            const src = URL.createObjectURL(file);\n            const img = new Image();\n            img.onload = () => {\n                setImages((prev) => [\n                    ...prev,\n                    {\n                        file,\n                        src,\n                        width: img.width,\n                        height: img.height,\n                        overrideScale: '',\n                    },\n                ]);\n            };\n            img.src = src;\n        });\n    };\n\n    const openPopup = (index) => {\n        setPopupImageIndex(index);\n    };\n\n    const closePopup = () => {\n        setPopupImageIndex(null);\n    };\n\n    const handleOverrideChange = (index, value) => {\n        setImages((prev) =>\n            prev.map((img, idx) =>\n                idx === index ? { ...img, overrideScale: value } : img\n            )\n        );\n    };\n\n    const removeImage = (index) => {\n        setImages((prev) => prev.filter((img, idx) => idx !== index));\n    };\n\n    // Updated calculation algorithm using column-based packing.\n    const calculateLayout = () => {\n        let pageWidth, pageHeight;\n        if (pageFormat === \"Custom\") {\n            pageWidth = parseFloat(customPageWidth);\n            pageHeight = parseFloat(customPageHeight);\n        } else {\n            const dims = paperSizes[pageFormat];\n            pageWidth = dims.width;\n            pageHeight = dims.height;\n        }\n        if (orientation === \"landscape\") {\n            [pageWidth, pageHeight] = [pageHeight, pageWidth];\n        }\n        const margin = parseFloat(imageMargin) || 0;\n\n        // Compute scaled dimensions for each image.\n        const scaledImages = images.map((img, idx) => {\n            const override = img.overrideScale ? parseFloat(img.overrideScale) : null;\n            if (override !== null && !isNaN(override)) {\n                return {\n                    index: idx,\n                    width: img.width * (override / 100),\n                    height: img.height * (override / 100),\n                    src: img.src\n                };\n            } else if (scaleOption === \"percentage\") {\n                return {\n                    index: idx,\n                    width: img.width * (globalScale / 100),\n                    height: img.height * (globalScale / 100),\n                    src: img.src\n                };\n            } else {\n                // Fixed columns mode: compute a uniform width.\n                const effectivePageWidth = pageWidth - ((columnsPerPage - 1) * margin);\n                const newWidth = effectivePageWidth / columnsPerPage;\n                const scale = newWidth / img.width;\n                return {\n                    index: idx,\n                    width: newWidth,\n                    height: img.height * scale,\n                    src: img.src\n                };\n            }\n        });\n\n        // Check if any image is too big (ignoring margins).\n        const tooBig = scaledImages.find(img => img.width > pageWidth || img.height > pageHeight);\n        if (tooBig) {\n            alert(\"Image \" + (tooBig.index + 1) + \" is too big for the page. Please reduce scale.\");\n            return [];\n        }\n\n        // Optional: sort images (here, descending by area).\n        scaledImages.sort((a, b) => (b.width * b.height) - (a.width * a.height));\n\n        // The skyline array will hold segments of available space.\n        // Each node is an object: { x, width, y }.\n        // Initially, the entire top of the page is free.\n        let skyline = [{ x: 0, width: pageWidth, y: 0 }];\n\n        // Find a placement for an image in the current skyline.\n        const findPositionForImage = (img) => {\n            let bestY = Infinity;\n            let bestX = 0;\n            let bestNodeIndex = -1;\n            // Look for a skyline segment where the image will fit horizontally.\n            for (let i = 0; i < skyline.length; i++) {\n                let node = skyline[i];\n                if (node.width >= img.width) {\n                    // Candidate position is at (node.x, node.y).\n                    // We choose the one with the smallest y (and then leftmost x).\n                    if (node.y < bestY || (node.y === bestY && node.x < bestX)) {\n                        bestY = node.y;\n                        bestX = node.x;\n                        bestNodeIndex = i;\n                    }\n                }\n            }\n            if (bestNodeIndex === -1 || bestY + img.height > pageHeight) {\n                return null; // No fit found.\n            }\n            return { x: bestX, y: bestY, nodeIndex: bestNodeIndex };\n        };\n\n        // Update the skyline after placing an image at a given position.\n        const updateSkyline = (pos, img) => {\n            // Create a new node representing the top edge of the placed image.\n            let newNode = {\n                x: pos.x,\n                width: img.width,\n                y: pos.y + img.height + margin\n            };\n\n            let newSkyline = [];\n            // Process each existing node.\n            for (let node of skyline) {\n                // If node is completely to the left or right of the placed image, keep it.\n                if (node.x + node.width <= pos.x || node.x >= pos.x + img.width) {\n                    newSkyline.push(node);\n                } else {\n                    // If part of the node is to the left of the image, keep that segment.\n                    if (node.x < pos.x) {\n                        newSkyline.push({\n                            x: node.x,\n                            width: pos.x - node.x,\n                            y: node.y\n                        });\n                    }\n                    // If part of the node is to the right of the image, keep that segment.\n                    let rightEdge = node.x + node.width;\n                    let newRightEdge = pos.x + img.width;\n                    if (rightEdge > newRightEdge) {\n                        newSkyline.push({\n                            x: newRightEdge,\n                            width: rightEdge - newRightEdge,\n                            y: node.y\n                        });\n                    }\n                }\n            }\n            // Add the new node.\n            newSkyline.push(newNode);\n\n            // Merge adjacent nodes that have the same y.\n            newSkyline.sort((a, b) => a.x - b.x);\n            let merged = [];\n            for (let node of newSkyline) {\n                if (merged.length > 0) {\n                    let last = merged[merged.length - 1];\n                    if (last.y === node.y && last.x + last.width >= node.x) {\n                        last.width = Math.max(last.width, node.x + node.width - last.x);\n                        continue;\n                    }\n                }\n                merged.push(node);\n            }\n            skyline = merged;\n        };\n\n        const pages = [];\n        let remaining = [...scaledImages];\n\n        // Continue placing images until all are placed.\n        while (remaining.length > 0) {\n            // Reset the skyline for a new page.\n            skyline = [{ x: 0, width: pageWidth, y: 0 }];\n            const pagePlacements = [];\n            const newRemaining = [];\n\n            // Try to place each image.\n            for (let img of remaining) {\n                let pos = findPositionForImage(img);\n                if (pos) {\n                    pagePlacements.push({\n                        index: img.index,\n                        x: pos.x,\n                        y: pos.y,\n                        width: img.width,\n                        height: img.height,\n                        src: img.src\n                    });\n                    updateSkyline(pos, img);\n                } else {\n                    // Defer image to the next page.\n                    newRemaining.push(img);\n                }\n            }\n            pages.push(pagePlacements);\n            if (pagePlacements.length === 0) break; // Avoid infinite loop.\n            remaining = newRemaining;\n        }\n        return pages;\n    };\n\n\n\n    const handleCalculate = () => {\n        const pages = calculateLayout();\n        if (pages.length > 0) {\n            setCalcPages(pages);\n            setActiveCalcPage(0);\n            setShowCalcPopup(true);\n            console.log(\"Calculated layout:\", pages);\n        }\n    };\n\n    const handleGeneratePDF = async () => {\n        setPdfLoading(true);\n        let pageWidth, pageHeight;\n        if (pageFormat === \"Custom\") {\n            pageWidth = parseFloat(customPageWidth);\n            pageHeight = parseFloat(customPageHeight);\n        } else {\n            const dims = paperSizes[pageFormat];\n            pageWidth = dims.width;\n            pageHeight = dims.height;\n        }\n        if (orientation === \"landscape\") {\n            [pageWidth, pageHeight] = [pageHeight, pageWidth];\n        }\n        const pages = calculateLayout();\n        if (pages.length === 0) {\n            setPdfLoading(false);\n            return;\n        }\n        const pdf = new jsPDF({\n            orientation: orientation,\n            unit: 'mm',\n            format: [pageWidth, pageHeight]\n        });\n        for (let p = 0; p < pages.length; p++) {\n            if (p > 0) pdf.addPage([pageWidth, pageHeight], orientation);\n            for (let placement of pages[p]) {\n                const dataUrl = await getImageDataUrl(images[placement.index].src);\n                pdf.addImage(dataUrl, 'JPEG', placement.x, placement.y, placement.width, placement.height);\n            }\n        }\n        pdf.save(\"pixpact_output_\"+images.length+\"_images.pdf\");\n        setPdfLoading(false);\n    };\n\n    // Prepare preview for the calculated page in the Calculate popup.\n    let previewPageStyle = {};\n    let scaleFactor = 1;\n    if (pageFormat) {\n        let pageWidth, pageHeight;\n        if (pageFormat === \"Custom\") {\n            pageWidth = parseFloat(customPageWidth) || 210;\n            pageHeight = parseFloat(customPageHeight) || 297;\n        } else {\n            const dims = paperSizes[pageFormat];\n            pageWidth = dims.width;\n            pageHeight = dims.height;\n        }\n        if (orientation === \"landscape\") {\n            [pageWidth, pageHeight] = [pageHeight, pageWidth];\n        }\n        const aspectRatio = pageHeight / pageWidth;\n        const previewWidth = orientation === \"landscape\" ? 500 : 300;\n        const previewHeight = previewWidth * aspectRatio;\n        scaleFactor = previewWidth / pageWidth;\n        previewPageStyle = { width: previewWidth, height: previewHeight, position: 'relative', backgroundColor: '#fff' };\n    }\n\n    return (\n        <div className=\"home-container\">\n            {pdfLoading && (\n                <div className=\"loading-overlay\">\n                    <div className=\"loading-spinner\">Creating PDF...</div>\n                </div>\n            )}\n            <header className=\"header-container\">\n                <h1 className=\"header-title\">PixPact</h1>\n                <div className=\"header-links\">\n                    <a href=\"https://sayantan.is-a.dev\" target=\"_blank\" rel=\"noopener noreferrer\">Developer</a>\n                    <a href=\"https://github.com/legendsayantan/pixpact\" target=\"_blank\" rel=\"noopener noreferrer\">Source Code</a>\n                </div>\n            </header>\n\n            <div className=\"main-container\">\n                <div className=\"controls\">\n                    <div className=\"file-input-container\">\n                        <label htmlFor=\"fileInput\" className=\"file-label\">\n                            Select Images\n                        </label>\n                        <input\n                            id=\"fileInput\"\n                            type=\"file\"\n                            accept=\"image/*\"\n                            multiple\n                            className=\"file-input\"\n                            onChange={handleFiles}\n                            ref={fileInputRef}\n                        />\n                    </div>\n\n                    <div className=\"page-customization\">\n                        <h3>Page Customization</h3>\n                        <div className=\"form-group\">\n                            <label>Page Format:</label>\n                            <select\n                                value={pageFormat}\n                                onChange={(e) => setPageFormat(e.target.value)}\n                                className=\"styled-select\"\n                            >\n                                <option value=\"A4\">A4</option>\n                                <option value=\"Letter\">Letter</option>\n                                <option value=\"Legal\">Legal</option>\n                                <option value=\"A1\">A1</option>\n                                <option value=\"A3\">A3</option>\n                                <option value=\"A5\">A5</option>\n                                <option value=\"Tabloid\">Tabloid</option>\n                                <option value=\"Custom\">Custom</option>\n                            </select>\n                        </div>\n                        {pageFormat === \"Custom\" && (\n                            <div className=\"form-group custom-dimensions\">\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Width (mm)\"\n                                    value={customPageWidth}\n                                    onChange={(e) => setCustomPageWidth(e.target.value)}\n                                    className=\"styled-input\"\n                                />\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Height (mm)\"\n                                    value={customPageHeight}\n                                    onChange={(e) => setCustomPageHeight(e.target.value)}\n                                    className=\"styled-input\"\n                                />\n                            </div>\n                        )}\n                        <div className=\"form-group\">\n                            <label>Orientation:</label>\n                            <div className=\"orientation-options\">\n                                <label className=\"modern-radio\">\n                                    <input\n                                        type=\"radio\"\n                                        value=\"portrait\"\n                                        checked={orientation === \"portrait\"}\n                                        onChange={(e) => setOrientation(e.target.value)}\n                                    />\n                                    <span>Portrait</span>\n                                </label>\n                                <label className=\"modern-radio\">\n                                    <input\n                                        type=\"radio\"\n                                        value=\"landscape\"\n                                        checked={orientation === \"landscape\"}\n                                        onChange={(e) => setOrientation(e.target.value)}\n                                    />\n                                    <span>Landscape</span>\n                                </label>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div className=\"scale-customization\">\n                        <h3>Scale Customization</h3>\n                        <div className=\"form-group\">\n                            <label className=\"modern-radio\">\n                                <input\n                                    type=\"radio\"\n                                    value=\"percentage\"\n                                    checked={scaleOption === \"percentage\"}\n                                    onChange={(e) => setScaleOption(e.target.value)}\n                                />\n                                <span>Resolution Scale</span>\n                            </label>\n                            <label className=\"modern-radio\">\n                                <input\n                                    type=\"radio\"\n                                    value=\"columns\"\n                                    checked={scaleOption === \"columns\"}\n                                    onChange={(e) => setScaleOption(e.target.value)}\n                                />\n                                <span>Columns per Page</span>\n                            </label>\n                        </div>\n                        <div className=\"form-group\">\n                            {scaleOption === \"percentage\" ? (\n                                <>\n                                    <input\n                                        type=\"number\"\n                                        step=\"1\"\n                                        value={globalScale}\n                                        onChange={(e) => setGlobalScale(parseFloat(e.target.value))}\n                                        className=\"styled-input\"\n                                    />\n                                </>\n                            ) : (\n                                <>\n                                    <input\n                                        type=\"number\"\n                                        min=\"1\"\n                                        value={columnsPerPage}\n                                        onChange={(e) => setColumnsPerPage(parseInt(e.target.value, 10))}\n                                        className=\"styled-input\"\n                                    />\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Margin (px):</label>\n                        <input\n                            type=\"number\"\n                            value={imageMargin}\n                            onChange={(e) => setImageMargin(e.target.value)}\n                            className=\"styled-input\"\n                        />\n                    </div>\n\n                    <div className=\"control-btns\">\n                        <button onClick={handleCalculate} className=\"control-btn calc-btn\">\n                            Preview\n                        </button>\n                        <button onClick={handleGeneratePDF} className=\"control-btn generate-btn\">\n                            Save as PDF\n                        </button>\n                    </div>\n                </div>\n\n                {\n                    images.length === 0 ? (\n                        <div className=\"empty-preview\">\n                            <h2>Add some images to effortlessly compact them into pages</h2>\n                            <p>provide mismatching images, of any size or resolution</p>\n                        </div>\n                    ) : (\n                        <div className=\"previews\">\n                            {images.map((img, index) => (\n                                <div key={index} className=\"preview-container\" onClick={() => openPopup(index)}>\n                                    <div className=\"preview-number\">{index + 1}</div>\n                                    <img\n                                        src={img.src}\n                                        alt={`Preview ${index}`}\n                                        className=\"preview-image\"\n                                    />\n                                    <div className=\"overlay\">\n                <span>\n                  {img.width} x {img.height}\n                </span>\n                                        <span>Scale: {img.overrideScale || \"Default\"}{img.overrideScale?\"%\":\"\"}</span>\n                                    </div>\n                                    <button\n                                        className=\"remove-btn\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            removeImage(index);\n                                        }}\n                                    >\n                                        &times;\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    )\n                }\n\n            </div>\n\n            {/* Customise popup for individual image */}\n            {popupImageIndex !== null && (\n                <div className=\"popup-overlay\" onClick={closePopup}>\n                    <div className=\"popup\" onClick={(e) => e.stopPropagation()}>\n                        <div className=\"popup-content\">\n                            <div className=\"popup-image-container\">\n                                <img src={images[popupImageIndex].src} alt=\"Large Preview\" />\n                            </div>\n                            <div className=\"popup-controls\">\n                                <h2>Customise</h2>\n                                <p>\n                                    Image dimensions: {images[popupImageIndex].width} x {images[popupImageIndex].height}\n                                </p>\n                                <div className=\"form-group\">\n                                    <label>Override Scale (%):</label>\n                                    <input\n                                        type=\"number\"\n                                        step=\"1\"\n                                        value={images[popupImageIndex].overrideScale}\n                                        onChange={(e) =>\n                                            handleOverrideChange(popupImageIndex, e.target.value)\n                                        }\n                                        className=\"popup-input styled-input\"\n                                    />\n                                </div>\n                                <div className=\"popup-btn-group\">\n                                    <button\n                                        onClick={() => {\n                                            removeImage(popupImageIndex);\n                                            closePopup();\n                                        }}\n                                        className=\"popup-btn\"\n                                    >\n                                        Remove Image\n                                    </button>\n                                    <button onClick={closePopup} className=\"popup-btn\">\n                                        Close\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Calculate Layout Popup with vertical arrangement */}\n            {showCalcPopup && calcPages && (\n                <div className=\"popup-overlay\" onClick={() => setShowCalcPopup(false)}>\n                    <div className=\"popup calc-popup-vertical\" onClick={(e) => e.stopPropagation()}>\n                        <h2 className=\"calc-heading\">Layout Preview</h2>\n                        <div className=\"calc-tabs\">\n                            {calcPages.map((page, idx) => (\n                                <button\n                                    key={idx}\n                                    className={`calc-tab ${activeCalcPage === idx ? \"active\" : \"\"}`}\n                                    onClick={() => setActiveCalcPage(idx)}\n                                >\n                                    {idx + 1}\n                                </button>\n                            ))}\n                        </div>\n                        <div className=\"calc-preview-container-vertical\">\n                            {(() => {\n                                let pageWidth, pageHeight;\n                                if (pageFormat === \"Custom\") {\n                                    pageWidth = parseFloat(customPageWidth) || 210;\n                                    pageHeight = parseFloat(customPageHeight) || 297;\n                                } else {\n                                    const dims = paperSizes[pageFormat];\n                                    pageWidth = dims.width;\n                                    pageHeight = dims.height;\n                                }\n                                if (orientation === \"landscape\") {\n                                    [pageWidth, pageHeight] = [pageHeight, pageWidth];\n                                }\n                                const aspectRatio = pageHeight / pageWidth;\n                                const previewWidth = orientation === \"landscape\" ? 500 : 300;\n                                const previewHeight = previewWidth * aspectRatio;\n                                const scaleFactor = previewWidth / pageWidth;\n                                return (\n                                    <div\n                                        className=\"calc-preview-page\"\n                                        style={{ width: previewWidth, height: previewHeight }}\n                                    >\n                                        {calcPages[activeCalcPage].map(item => (\n                                            <div\n                                                key={item.index}\n                                                style={{\n                                                    position: 'absolute',\n                                                    left: item.x * scaleFactor,\n                                                    top: item.y * scaleFactor,\n                                                    width: item.width * scaleFactor,\n                                                    height: item.height * scaleFactor,\n                                                    border: '2px dashed #FFD700', // deep yellow border\n                                                    boxSizing: 'border-box'\n                                                }}\n                                            >\n                                                <img\n                                                    src={images[item.index].src}\n                                                    alt={`Image ${item.index + 1}`}\n                                                    style={{\n                                                        width: '100%',\n                                                        height: '100%',\n                                                        display: 'block'\n                                                    }}\n                                                />\n                                                <div\n                                                    style={{\n                                                        position: 'absolute',\n                                                        top: 0,\n                                                        left: 0,\n                                                        background: '#ff5722', // or another color for contrast\n                                                        color: '#fff',\n                                                        padding: '2px 4px',\n                                                        fontSize: '10px'\n                                                    }}\n                                                >\n                                                    {item.index + 1}\n                                                </div>\n                                            </div>\n                                        ))}\n\n                                    </div>\n                                );\n                            })()}\n                        </div>\n                        <button onClick={() => setShowCalcPopup(false)} className=\"popup-btn\">\n                            Close\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PixPact;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport PixPact from \"./PixPact.jsx\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <PixPact/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}