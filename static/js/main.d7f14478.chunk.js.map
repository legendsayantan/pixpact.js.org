{"version":3,"sources":["images/icon.svg","PixPact.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","paperSizes","A1","width","height","A3","A4","A5","Letter","Legal","Tabloid","getImageDataUrl","imgSrc","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","imageSmoothingEnabled","fillStyle","fillRect","globalCompositeOperation","drawImage","dataURL","toDataURL","onerror","src","PixPact","images","setImages","useState","globalScale","setGlobalScale","scaleOption","setScaleOption","columnsPerPage","setColumnsPerPage","pageFormat","setPageFormat","orientation","setOrientation","customPageWidth","setCustomPageWidth","customPageHeight","setCustomPageHeight","pageBorder","setPageBorder","imageMargin","setImageMargin","priority","setPriority","popupImageIndex","setPopupImageIndex","calcPages","setCalcPages","showCalcPopup","setShowCalcPopup","activeCalcPage","setActiveCalcPage","pdfLoading","setPdfLoading","fileInputRef","useRef","closePopup","shouldMove","arguments","length","undefined","modifiedNo","getElementById","value","defaultValue","moveItemTo","parseInt","index","destinationIndex","prevImages","updatedImages","movedImage","splice","removeImage","prev","filter","idx","calculateLayout","pageWidth","pageHeight","parseFloat","dims","margin","borderValue","availableWidth","availableHeight","scaledImages","map","override","overrideScale","isNaN","effectivePageWidth","columnWidth","Math","floor","scale","tooBig","find","alert","sort","a","b","skyline","x","y","findPositionForImage","bestY","Infinity","bestX","bestNodeIndex","i","node","nodeIndex","updateSkyline","pos","newNode","newSkyline","push","rightEdge","desiredX","merged","last","max","pages","remaining","pagePlacements","newRemaining","filledFlag","React","className","href","target","rel","htmlFor","id","type","accept","multiple","onChange","e","Array","from","files","forEach","file","URL","createObjectURL","ref","placeholder","checked","Fragment","step","min","onClick","handleCalculate","console","log","async","pdf","jsPDF","unit","format","addPage","placement","dataUrl","addImage","save","empty_preview_image","alt","style","color","alignSelf","fontSize","key","openPopup","stopPropagation","handleOverrideChange","page","previewWidth","previewHeight","scaleFactor","item","position","left","top","border","boxSizing","display","background","padding","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d7f14478.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon.dcc36dca.svg\";","import React, { useState, useRef } from 'react';\nimport './PixPact.css';\nimport { jsPDF } from 'jspdf';\nimport empty_preview_image from \"./images/icon.svg\"\n\n// All dimensions in mm for paper sizes\nconst paperSizes = {\n    A1: { width: 594, height: 841 },\n    A3: { width: 297, height: 420 },\n    A4: { width: 210, height: 297 },\n    A5: { width: 148, height: 210 },\n    Letter: { width: 215.9, height: 279.4 },\n    Legal: { width: 215.9, height: 355.6 },\n    Tabloid: { width: 279.4, height: 431.8 }\n};\n\nconst round2 = (n) => Math.round(n * 100) / 100;\n\n// Convert an image source to a DataURL using a canvas\nconst getImageDataUrl = (imgSrc) => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.crossOrigin = \"Anonymous\";\n        img.onload = function() {\n            const canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            const ctx = canvas.getContext('2d');\n            // Disable image smoothing to avoid unwanted artifacts.\n            ctx.imageSmoothingEnabled = false;\n            // Fill with white\n            ctx.fillStyle = '#fff';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            // Draw the image (using source-over).\n            ctx.globalCompositeOperation = 'source-over';\n            ctx.drawImage(img, 0, 0);\n            // Export as JPEG to avoid alpha issues.\n            const dataURL = canvas.toDataURL('image/jpeg', 1.0);\n            resolve(dataURL);\n        };\n        img.onerror = reject;\n        img.src = imgSrc;\n    });\n};\n\nconst PixPact = () => {\n    const [images, setImages] = useState([]);\n    const [globalScale, setGlobalScale] = useState(50);\n    const [scaleOption, setScaleOption] = useState(\"columns\");\n    const [columnsPerPage, setColumnsPerPage] = useState(2);\n    const [pageFormat, setPageFormat] = useState(\"A4\");\n    const [orientation, setOrientation] = useState(\"portrait\");\n    const [customPageWidth, setCustomPageWidth] = useState('');\n    const [customPageHeight, setCustomPageHeight] = useState('');\n    const [pageBorder, setPageBorder] = useState(0);\n    const [imageMargin, setImageMargin] = useState(0);\n    const [priority, setPriority] = useState(\"pages\");\n    const [popupImageIndex, setPopupImageIndex] = useState(null);\n    const [calcPages, setCalcPages] = useState(null);\n    const [showCalcPopup, setShowCalcPopup] = useState(false);\n    const [activeCalcPage, setActiveCalcPage] = useState(0);\n    const [pdfLoading, setPdfLoading] = useState(false);\n    const fileInputRef = useRef(null);\n\n    // Handle image selection\n    const handleFiles = (e) => {\n        const files = Array.from(e.target.files);\n        files.forEach((file) => {\n            const src = URL.createObjectURL(file);\n            const img = new Image();\n            img.onload = () => {\n                setImages((prev) => [\n                    ...prev,\n                    {\n                        file,\n                        src,\n                        width: img.width,\n                        height: img.height,\n                        overrideScale: '',\n                    },\n                ]);\n            };\n            img.src = src;\n        });\n    };\n\n    const openPopup = (index) => {\n        setPopupImageIndex(index);\n    };\n\n    const closePopup = (shouldMove=true) => {\n        let modifiedNo = document.getElementById(\"imageNoModified\");\n        if(shouldMove && modifiedNo.value!==modifiedNo.defaultValue) {\n            moveItemTo(popupImageIndex, parseInt(modifiedNo.value, 10) - 1);\n        }\n        setPopupImageIndex(null);\n    };\n\n    const moveItemTo = (index, destinationIndex) => {\n        setImages(prevImages => {\n            // create a shallow copy of the array\n            const updatedImages = [...prevImages];\n            // remove the image at 'index'\n            const [movedImage] = updatedImages.splice(index, 1);\n            // insert the image at 'destinationIndex'\n            updatedImages.splice(destinationIndex, 0, movedImage);\n            return updatedImages;\n        });\n    };\n\n    const handleOverrideChange = (index, value) => {\n        setImages((prev) =>\n            prev.map((img, idx) =>\n                idx === index ? { ...img, overrideScale: value } : img\n            )\n        );\n    };\n\n    const removeImage = (index) => {\n        setImages((prev) => prev.filter((img, idx) => idx !== index));\n    };\n\n    // Updated calculation algorithm using column-based packing.\n    const calculateLayout = () => {\n        let pageWidth, pageHeight;\n        if (pageFormat === \"Custom\") {\n            pageWidth = parseFloat(customPageWidth);\n            pageHeight = parseFloat(customPageHeight);\n        } else {\n            const dims = paperSizes[pageFormat];\n            pageWidth = dims.width;\n            pageHeight = dims.height;\n        }\n        if (orientation === \"landscape\") {\n            [pageWidth, pageHeight] = [pageHeight, pageWidth];\n        }\n        const margin = parseFloat(imageMargin) || 0;\n        const borderValue = parseFloat(pageBorder) || 0;\n\n        // Define the available area inside the border.\n        const availableWidth = pageWidth - 2 * borderValue;\n        const availableHeight = pageHeight - 2 * borderValue;\n\n        // Compute scaled dimensions for each image.\n        const scaledImages = images.map((img, idx) => {\n            const override = img.overrideScale ? parseFloat(img.overrideScale) : null;\n            if (override !== null && !isNaN(override)) {\n                return {\n                    index: idx,\n                    width: img.width * (override / 100),\n                    height: img.height * (override / 100),\n                    src: img.src\n                };\n            } else if (scaleOption === \"percentage\") {\n                return {\n                    index: idx,\n                    width: img.width * (globalScale / 100),\n                    height: img.height * (globalScale / 100),\n                    src: img.src\n                };\n            } else {\n                // Fixed columns mode: use availableWidth (accounting for border)\n                const effectivePageWidth = availableWidth - ((columnsPerPage - 1) * margin);\n                let columnWidth = Math.floor(effectivePageWidth / columnsPerPage);\n                let scale = columnWidth / img.width;\n                // if image is still taller than the available area, scale it down further\n                if ((img.height * scale) > availableHeight) {\n                    scale = availableHeight / img.height;\n                    columnWidth = Math.floor(img.width * scale);\n                }\n                return {\n                    index: idx,\n                    width: columnWidth,\n                    height: Math.floor(img.height * scale),\n                    src: img.src\n                };\n            }\n        });\n\n        // Check if any image is too big for the available area (ignoring margins).\n        const tooBig = scaledImages.find(\n            (img) => img.width > availableWidth || img.height > availableHeight\n        );\n        if (tooBig) {\n            alert(\n                \"Image \" +\n                (tooBig.index + 1) +\n                \" is too big for the page. Please reduce scale.\"\n            );\n            return [];\n        }\n\n        // Optional: sort images (here, descending by area).\n        if(priority===\"pages\"){\n            scaledImages.sort(\n                (a, b) => b.width * b.height - a.width * a.height\n            );\n        }\n\n        // Initialize the skyline to the top edge of the available area.\n        // The x coordinate starts at borderValue and spans availableWidth.\n        let skyline = [{ x: borderValue, width: availableWidth, y: borderValue }];\n\n        // Find a placement for an image in the current skyline.\n        const findPositionForImage = (img) => {\n            let bestY = Infinity;\n            let bestX = 0;\n            let bestNodeIndex = -1;\n            for (let i = 0; i < skyline.length; i++) {\n                const node = skyline[i];\n                if (node.width >= img.width) {\n                    // Choose the node with the smallest y (i.e. highest available position)\n                    if (node.y < bestY || (node.y === bestY && node.x < bestX)) {\n                        bestY = node.y;\n                        bestX = node.x;\n                        bestNodeIndex = i;\n                    }\n                }\n            }\n            // Ensure the image fits vertically in the available area.\n            if (\n                bestNodeIndex === -1 ||\n                bestY + img.height > borderValue + availableHeight\n            ) {\n                return null;\n            }\n            return { x: bestX, y: bestY, nodeIndex: bestNodeIndex };\n        };\n\n        // Update the skyline after placing an image.\n        // Here we ensure that the right segment begins at (pos.x + img.width + margin)\n        // if the existing node starts at or before pos.x + img.width.\n        const updateSkyline = (pos, img) => {\n            const newNode = {\n                x: pos.x,\n                width: img.width,\n                y: pos.y + img.height + margin\n            };\n\n            let newSkyline = [];\n            for (let node of skyline) {\n                // If node is completely to the left of the placed image.\n                if (node.x + node.width <= pos.x) {\n                    newSkyline.push(node);\n                }\n                // If node is completely to the right of the placed image.\n                else if (node.x >= pos.x + img.width) {\n                    // If the node is exactly adjacent to the placed image, shift it.\n                    if (node.x === pos.x + img.width) {\n                        newSkyline.push({\n                            x: node.x + margin,\n                            width: node.width,\n                            y: node.y\n                        });\n                    } else {\n                        newSkyline.push(node);\n                    }\n                }\n                // Node overlaps with the placed image.\n                else {\n                    // Left segment, if any.\n                    if (node.x < pos.x) {\n                        newSkyline.push({\n                            x: node.x,\n                            width: pos.x - node.x,\n                            y: node.y\n                        });\n                    }\n                    // Right segment: We want it to start at pos.x + img.width + margin.\n                    let rightEdge = node.x + node.width;\n                    let desiredX = pos.x + img.width + margin;\n                    if (rightEdge > desiredX) {\n                        newSkyline.push({\n                            x: desiredX,\n                            width: rightEdge - desiredX,\n                            y: node.y\n                        });\n                    }\n                }\n            }\n            newSkyline.push(newNode);\n\n            // Merge adjacent nodes with the same y.\n            newSkyline.sort((a, b) => a.x - b.x);\n            let merged = [];\n            for (let node of newSkyline) {\n                if (merged.length > 0) {\n                    let last = merged[merged.length - 1];\n                    if (last.y === node.y && last.x + last.width >= node.x) {\n                        last.width = Math.max(last.width, node.x + node.width - last.x);\n                        continue;\n                    }\n                }\n                merged.push(node);\n            }\n            skyline = merged;\n        };\n\n        const pages = [];\n        let remaining = [...scaledImages];\n\n        // Pack images into pages using the skyline algorithm.\n        while (remaining.length > 0) {\n            // Reset the skyline for a new page (starting at the border).\n            skyline = [{ x: borderValue, width: availableWidth, y: borderValue }];\n            let pagePlacements = [];\n            const newRemaining = [];\n            let filledFlag = false;\n            for (let img of remaining) {\n                if(filledFlag){\n                    newRemaining.push(img);\n                    continue;\n                }\n                let pos = findPositionForImage(img);\n                if (pos) {\n                    pagePlacements.push({\n                        index: img.index,\n                        x: pos.x,\n                        y: pos.y,\n                        width: img.width,\n                        height: img.height,\n                        src: img.src\n                    });\n                    updateSkyline(pos, img);\n                } else {\n                    // Defer the image to the next page.\n                    if(priority===\"order\"){\n                        filledFlag = true;\n                    }\n                    newRemaining.push(img);\n                }\n            }\n            pages.push(pagePlacements);\n            if (pagePlacements.length === 0) break; // Avoid infinite loop.\n            remaining = newRemaining;\n        }\n        return pages;\n    };\n\n\n\n\n\n    const handleCalculate = () => {\n        const pages = calculateLayout();\n        if (pages.length > 0) {\n            setCalcPages(pages);\n            setActiveCalcPage(0);\n            setShowCalcPopup(true);\n            console.log(\"Calculated layout:\", pages);\n        }\n    };\n\n    const handleGeneratePDF = async () => {\n        setPdfLoading(true);\n        let pageWidth, pageHeight;\n        if (pageFormat === \"Custom\") {\n            pageWidth = parseFloat(customPageWidth);\n            pageHeight = parseFloat(customPageHeight);\n        } else {\n            const dims = paperSizes[pageFormat];\n            pageWidth = dims.width;\n            pageHeight = dims.height;\n        }\n        if (orientation === \"landscape\") {\n            [pageWidth, pageHeight] = [pageHeight, pageWidth];\n        }\n        const pages = calculateLayout();\n        if (pages.length === 0) {\n            setPdfLoading(false);\n            return;\n        }\n        const pdf = new jsPDF({\n            orientation: orientation,\n            unit: 'mm',\n            format: [pageWidth, pageHeight]\n        });\n        for (let p = 0; p < pages.length; p++) {\n            if (p > 0) pdf.addPage([pageWidth, pageHeight], orientation);\n            for (let placement of pages[p]) {\n                const dataUrl = await getImageDataUrl(images[placement.index].src);\n                pdf.addImage(dataUrl, 'JPEG', placement.x, placement.y, placement.width, placement.height);\n            }\n        }\n        pdf.save(\"pixpact_output (\"+images.length+\" images).pdf\");\n        setPdfLoading(false);\n    };\n\n    return (\n        <div className=\"home-container\">\n            {pdfLoading && (\n                <div className=\"loading-overlay\">\n                    <div className=\"loading-spinner\">Creating PDF...</div>\n                </div>\n            )}\n            <header className=\"header-container\">\n                <h1 className=\"header-title\">PixPact</h1>\n                <div className=\"header-links\">\n                    <a href=\"https://sayantan.is-a.dev\" target=\"_blank\" rel=\"noopener noreferrer\">Developer</a>\n                    <a href=\"https://github.com/legendsayantan/pixpact\" target=\"_blank\" rel=\"noopener noreferrer\">Source Code</a>\n                </div>\n            </header>\n\n            <div className=\"main-container\">\n                <div className=\"controls\">\n                    <div className=\"file-input-container\">\n                        <label htmlFor=\"fileInput\" className=\"file-label\">\n                            Select Images\n                        </label>\n                        <input\n                            id=\"fileInput\"\n                            type=\"file\"\n                            accept=\"image/*\"\n                            multiple\n                            className=\"file-input\"\n                            onChange={handleFiles}\n                            ref={fileInputRef}\n                        />\n                    </div>\n\n                    <div className=\"page-customization\">\n                        <div className=\"form-group hrzntl\">\n                            <label>Page:</label>\n                            <select\n                                value={pageFormat}\n                                onChange={(e) => setPageFormat(e.target.value)}\n                                className=\"styled-select\"\n                            >\n                                <option value=\"A4\">A4</option>\n                                <option value=\"Letter\">Letter</option>\n                                <option value=\"Legal\">Legal</option>\n                                <option value=\"A1\">A1</option>\n                                <option value=\"A3\">A3</option>\n                                <option value=\"A5\">A5</option>\n                                <option value=\"Tabloid\">Tabloid</option>\n                                <option value=\"Custom\">Custom</option>\n                            </select>\n                        </div>\n                        {pageFormat === \"Custom\" && (\n                            <div className=\"form-group hrzntl\">\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Width (mm)\"\n                                    value={customPageWidth}\n                                    onChange={(e) => setCustomPageWidth(e.target.value)}\n                                    className=\"styled-input\"\n                                />\n                                <input\n                                    type=\"number\"\n                                    placeholder=\"Height (mm)\"\n                                    value={customPageHeight}\n                                    onChange={(e) => setCustomPageHeight(e.target.value)}\n                                    className=\"styled-input\"\n                                />\n                            </div>\n                        )}\n                        <div className=\"form-group\">\n                            <label>Orientation:</label>\n                            <div className=\"orientation-options\">\n                                <label className=\"modern-radio\">\n                                    <input\n                                        type=\"radio\"\n                                        value=\"portrait\"\n                                        checked={orientation === \"portrait\"}\n                                        onChange={(e) => setOrientation(e.target.value)}\n                                    />\n                                    <span>Portrait</span>\n                                </label>\n                                <label className=\"modern-radio\">\n                                    <input\n                                        type=\"radio\"\n                                        value=\"landscape\"\n                                        checked={orientation === \"landscape\"}\n                                        onChange={(e) => setOrientation(e.target.value)}\n                                    />\n                                    <span>Landscape</span>\n                                </label>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div className=\"scale-customization\">\n                        <h3>Scale Customization</h3>\n                        <div className=\"form-group\">\n                            <label className=\"modern-radio\">\n                                <input\n                                    type=\"radio\"\n                                    value=\"percentage\"\n                                    checked={scaleOption === \"percentage\"}\n                                    onChange={(e) => setScaleOption(e.target.value)}\n                                />\n                                <span>Resolution Scale</span>\n                            </label>\n                            <label className=\"modern-radio\">\n                                <input\n                                    type=\"radio\"\n                                    value=\"columns\"\n                                    checked={scaleOption === \"columns\"}\n                                    onChange={(e) => setScaleOption(e.target.value)}\n                                />\n                                <span>Columns per Page</span>\n                            </label>\n                        </div>\n                        <div className=\"form-group\">\n                            {scaleOption === \"percentage\" ? (\n                                <>\n                                    <input\n                                        type=\"number\"\n                                        step=\"1\"\n                                        value={globalScale}\n                                        onChange={(e) => setGlobalScale(parseFloat(e.target.value))}\n                                        className=\"styled-input\"\n                                    />\n                                </>\n                            ) : (\n                                <>\n                                    <input\n                                        type=\"number\"\n                                        min=\"1\"\n                                        value={columnsPerPage}\n                                        onChange={(e) => setColumnsPerPage(parseInt(e.target.value, 10))}\n                                        className=\"styled-input\"\n                                    />\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className=\"form-group hrzntl\">\n                        <label>Border:</label>\n                        <input\n                            type=\"number\"\n                            value={pageBorder}\n                            onChange={(e) => setPageBorder(e.target.value)}\n                            className=\"styled-input\"\n                        />\n                    </div>\n                    <div className=\"form-group hrzntl\">\n                        <label>Margin:</label>\n                        <input\n                            type=\"number\"\n                            value={imageMargin}\n                            onChange={(e) => setImageMargin(e.target.value)}\n                            className=\"styled-input\"\n                        />\n                    </div>\n\n                    <div className=\"form-group hrzntl\">\n                        <label>Priority:</label>\n                        <select\n                            value={priority}\n                            onChange={(e) => setPriority(e.target.value)}\n                            className=\"styled-select\"\n                        >\n                            <option value=\"pages\">Use least pages</option>\n                            <option value=\"try\">Try to maintain order</option>\n                            <option value=\"order\">Strictly maintain order</option>\n                        </select>\n                    </div>\n\n\n\n                    <div className=\"control-btns\">\n                        <button onClick={handleCalculate} className=\"control-btn calc-btn\">\n                            Preview\n                        </button>\n                        <button onClick={handleGeneratePDF} className=\"control-btn generate-btn\">\n                            Save as PDF\n                        </button>\n                    </div>\n                </div>\n\n                {\n                    images.length === 0 ? (\n                        <div className=\"empty-preview\">\n                            <div>\n                                <img src={empty_preview_image} alt=\"add\" style={{width:\"100px\",height:\"100px\",color:\"white\"}}/>\n                                <h2>Add some images to effortlessly compact them into pages</h2>\n                                <p>Provide mismatching images, of any size, resolution or aspect ratio</p>\n                            </div>\n                            <p style={{alignSelf:\"end\",fontSize:\"small\"}}>Have feedback? <a href=\"https://github.com/legendsayantan/pixpact/issues\">write them here</a></p>\n                        </div>\n                    ) : (\n                        <div className=\"previews\">\n                            {images.map((img, index) => (\n                                <div key={index} className=\"preview-container\" onClick={() => openPopup(index)}>\n                                    <div className=\"preview-number\">{index + 1}</div>\n                                    <img\n                                        src={img.src}\n                                        alt={`Preview ${index}`}\n                                        className=\"preview-image\"\n                                    />\n                                    <div className=\"overlay\">\n                <span>\n                  {img.width} x {img.height}\n                </span>\n                                        <span>Scale: {img.overrideScale || (scaleOption===\"columns\" ? \"Auto-fit\" : \"Default\")}{img.overrideScale && \"%\"}</span>\n                                    </div>\n                                    <button\n                                        className=\"remove-btn\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            removeImage(index);\n                                        }}\n                                    >\n                                        &times;\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    )\n                }\n\n            </div>\n\n            {/* Customise popup for individual image */}\n            {popupImageIndex !== null && (\n                <div className=\"popup-overlay\" onClick={closePopup}>\n                    <div className=\"popup\" onClick={(e) => e.stopPropagation()}>\n                        <div className=\"popup-content\">\n                            <div className=\"popup-image-container\">\n                                <img src={images[popupImageIndex].src} alt=\"Large Preview\" />\n                            </div>\n                            <div className=\"popup-controls\">\n                                <h2>Customise</h2>\n                                <p>\n                                    Image dimensions: {images[popupImageIndex].width} x {images[popupImageIndex].height}\n                                </p>\n                                <div className=\"form-group hrzntl\" style={{margin:0}}>\n                                    <label style={{width:\"100%\"}}>Image No.</label>\n                                    <input\n                                        type=\"number\"\n                                        step=\"1\"\n                                        defaultValue={popupImageIndex+1}\n                                        id=\"imageNoModified\"\n                                        className=\"popup-input styled-input\"\n                                    />\n                                </div>\n                                <div className=\"form-group hrzntl\"style={{margin:0}}>\n                                    <label style={{width:\"100%\"}}>Override Scale:</label>\n                                    <input\n                                        type=\"number\"\n                                        step=\"1\"\n                                        value={images[popupImageIndex].overrideScale}\n                                        placeholder={scaleOption===\"columns\" ? \"Auto-fit\" : \"Default\"}\n                                        onChange={(e) =>\n                                            handleOverrideChange(popupImageIndex, e.target.value)\n                                        }\n                                        className=\"popup-input styled-input\"\n                                    />\n                                </div>\n                                <div className=\"popup-btn-group\">\n                                    <button\n                                        onClick={() => {\n                                            removeImage(popupImageIndex);\n                                            closePopup(false);\n                                        }}\n                                        className=\"popup-btn\"\n                                    >\n                                        Remove Image\n                                    </button>\n                                    <button onClick={closePopup} className=\"popup-btn\">\n                                        Close\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Calculate Layout Popup with vertical arrangement */}\n            {showCalcPopup && calcPages && (\n                <div className=\"popup-overlay\" onClick={() => setShowCalcPopup(false)}>\n                    <div className=\"popup calc-popup-vertical\" onClick={(e) => e.stopPropagation()}>\n                        <h2 className=\"calc-heading\">Layout Preview</h2>\n                        <div className=\"calc-tabs\">\n                            {calcPages.map((page, idx) => (\n                                <button\n                                    key={idx}\n                                    className={`calc-tab ${activeCalcPage === idx ? \"active\" : \"\"}`}\n                                    onClick={() => setActiveCalcPage(idx)}\n                                >\n                                    {idx + 1}\n                                </button>\n                            ))}\n                        </div>\n                        <div className=\"calc-preview-container-vertical\">\n                            {(() => {\n                                let pageWidth, pageHeight;\n                                if (pageFormat === \"Custom\") {\n                                    pageWidth = parseFloat(customPageWidth) || 210;\n                                    pageHeight = parseFloat(customPageHeight) || 297;\n                                } else {\n                                    const dims = paperSizes[pageFormat];\n                                    pageWidth = dims.width;\n                                    pageHeight = dims.height;\n                                }\n                                if (orientation === \"landscape\") {\n                                    [pageWidth, pageHeight] = [pageHeight, pageWidth];\n                                }\n                                const aspectRatio = pageHeight / pageWidth;\n                                const previewWidth = orientation === \"landscape\" ? 500 : 300;\n                                const previewHeight = previewWidth * aspectRatio;\n                                const scaleFactor = previewWidth / pageWidth;\n                                return (\n                                    <div\n                                        className=\"calc-preview-page\"\n                                        style={{ width: previewWidth, height: previewHeight }}\n                                    >\n                                        {calcPages[activeCalcPage].map(item => (\n                                            <div\n                                                key={item.index}\n                                                style={{\n                                                    position: 'absolute',\n                                                    left: item.x * scaleFactor,\n                                                    top: item.y * scaleFactor,\n                                                    width: item.width * scaleFactor,\n                                                    height: item.height * scaleFactor,\n                                                    border: '2px dashed #FFD700', // deep yellow border\n                                                    boxSizing: 'border-box'\n                                                }}\n                                            >\n                                                <img\n                                                    src={images[item.index].src}\n                                                    alt={`Image ${item.index + 1}`}\n                                                    style={{\n                                                        width: '100%',\n                                                        height: '100%',\n                                                        display: 'block'\n                                                    }}\n                                                />\n                                                <div\n                                                    style={{\n                                                        position: 'absolute',\n                                                        top: 0,\n                                                        left: 0,\n                                                        background: '#ff5722', // or another color for contrast\n                                                        color: '#fff',\n                                                        padding: '2px 4px',\n                                                        fontSize: '10px'\n                                                    }}\n                                                >\n                                                    {item.index + 1}\n                                                </div>\n                                            </div>\n                                        ))}\n\n                                    </div>\n                                );\n                            })()}\n                        </div>\n                        <button onClick={() => setShowCalcPopup(false)} className=\"popup-btn\">\n                            Close\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PixPact;\n","import React from 'react';\nimport './App.css';\nimport PixPact from \"./PixPact.jsx\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <PixPact/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}